<template>
    <div class="wrapper1">
        <div class="header1">
            <div class="logo">
                <h2><a href="#index"></a></h2>
            </div>
            <div class="menu">
                <a href="#index">首页</a>
                <a href="#about">关于</a>
                <a href="#tequan">特权</a>
                <a href="#opportunities">合伙人招募</a>
                <a href="#dianpu">精品店铺</a>
                <a href="#footer">合作伙伴</a>
            </div>
        </div>
        <!-- 首页部分 -->
        <div class="contionter" id="index">
            <div class="banner">
                <div class="mengceng">
                    
                    <div class="center">
                        <div class="title-box">
                            <p class="shopvill">shopVill</p>
                            <p class="title">社区新零售领导者</p>
                            <p class="text-box">Shopvill Prime --好的生活，其实没那么贵！
                            </p>
                        </div>
                        <div class="text"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 关于我们部分 -->
        <div class="contionter about-height" id="about">
            <div class="about">
                <div class="main">
                    <div class="img">
                        <img src="@/assets/imgs/5.png" alt="">
                    </div>
                    <div class="detail">
                        <div class="about-title">
                            <h2>About +</h2>
                            <p>关于我们</p>
                        </div>
                        <div class="about-detail">
                            <span>shopvill是什么</span>
                            <div class="henggang"></div>
                            <div class="text">

                               <p> Shopvill是以社区为单位，由社区内个人或零售店店主成为合伙人，在社区范围内通过线上线下等方式推广自己的独立商城，组织社区居民下单，线下完成交付，用户自提。</p>
                                <p>Shopvill是社区新零售行业的领导者，我们希望在解决老百姓购物不便利和价格高的同时，又能帮助一批有服务精神的“合伙人”走上富裕之路，帮助更多人开一家自己的店。</p>
                                <p>Shopvill整合全球供应链，为店主提供了数万家品牌商和优质工厂的源头货源，经过层层精选，确保品质，确保价格优势。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="quan">
                <img src="@/assets/imgs/8.png" alt="">
            </div>
        </div>
        <!-- 机会部分 -->
        <div class="contionter opportunities" id="opportunities">
            <div class="opportunities">
                <div class="main">
                    <div class="main-left">
                        <div class="title">
                            <p class="title-z">我们的机会</p>
                            <p class="title-e">Our opportunities</p>
                        </div>
                        <div class="photo">
                            <div class="photo-one"><img src="@/assets/imgs/11.png" alt=""></div>
                            <div class="text">
                                <h3>线下零售店品类少、质量差、价格高</h3>
                                <p>目前线下零售渠道的商品种类有限、质量较差，同时因流通环节过多，商品价格巨高，无法满足俄罗斯消费者的需求。</p>
                            </div>
                        </div>
                    </div>
                    <div class="main-right">
                        <div class="photo-top">
                            <img src="@/assets/imgs/9.png" alt="">
                            <div class="text">
                                <h3>万亿卢布市场规模</h3>
                                <p>俄罗斯人平均每年用于购买服装、鞋、家具家居和其他日常生活用品的开支为35000卢布左右，全国1.46亿人口，全国每年接近50000亿卢布的市场容量；</p>
                                
                            </div>
                        </div>
                        <div class="photo-bottom">
                            <img src="@/assets/imgs/10.png" alt="">
                            <div class="text">
                                <h3>传统电商购物，物流成本太高</h3>
                                <p>传统电商网站的商品种类虽然相对比较丰富，但是因为俄罗斯地广人稀，往往物流费用占了销售价格的70%以上，比如aliexpress.ru。</p>
                                
                            </div>
                        </div>
                    </div>
                    <!-- <div class="mengceng"></div> -->
                </div>
                <div class="yinhao">
                    <img src="@/assets/imgs/3.png" alt="">
                </div>
                <div class="mengceng"></div>
            </div>
        </div>
        <!-- 零售模式 -->
        <div class="contionter lingshou-height">
            <div class="lingshou ">
                <div class="main">
                    <div class="title-t">Shopvill的价格为什么更便宜？</div>
                    <div class="content">
                        <p class="title">严选工厂</p>
                        <p class="detail" style="margin-bottom: 100px;">中国有很多世界名牌的代工工厂，生产的商品与国际大牌完全相同，只不过用自己的商标，价格只是同等质量国际大牌的10%-20%！Shopvill的供应商全部来自于这些为国际大牌提供代工生产的工厂，商品质量也与国际大牌看齐！</p>
                        <p class="title">精简流通环节</p>
                        <p class="detail">通过俄罗斯传统的线下和线上零售渠道购买的商品一般都要经过五层以上的环节才能到达消费者手里面，每个环节都要加上自己的利润，所以销售价格超高。shopvill社区新零售的模式，是删减掉所有的中间环节，将中国工厂直接对接消费者，没有任何中间商的成本，同样质量的商品，我们的价格可以做到全俄罗斯最低！</p>
                    </div>
                    <div class="img">
                        <img src="@/assets/imgs/youyinhao.png" alt="">
                    </div>
                </div>
                <div class="main-bottom">
                    <div class="skip skip-top">
                        <h2>传统零售模式</h2>
                        <div class="skip-box">
                            <div class="skip-t">
                                <span class="text">中国各地中小型工厂</span>
                                <p><span class="yuan">1</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">中国出口商</span>
                                <p><span class="yuan">2</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">俄罗斯一级批发商</span>
                                <p><span class="yuan">3</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">俄罗斯二级批发商</span>
                                <p><span class="yuan">4</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">俄罗斯零售商</span>
                                <p><span class="yuan">5</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">俄罗斯消费者</span>
                                <p><span class="yuan">5</span></p>
                            </div>
                        </div>
                        <div class="zhong-xian"></div>
                    </div>
                    <div class="skip skip-top orgain">
                        <h2>Shopvill新零售模式</h2>
                        <div class="skip-box">
                            <div class="skip-t">
                                <span class="text">中国国际大牌代工工厂</span>
                                <p><span class="yuan">1</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">shopvill</span>
                                <p><span class="yuan">2</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">俄罗斯消费者</span>
                                <p><span class="yuan">3</span></p>
                            </div>
                            
                        </div>
                        <div class="zhong-xian"></div>
                    </div>
                    
                </div>
                <div class="yuan1">
                    <img src="@/assets/imgs/12.png" alt="">
                </div>
            </div>
        </div>
        <!-- 特权部分 -->
        <div class="contionter tequan" id="tequan">
            <div class="img">
                <img src="@/assets/imgs/2.png" alt="">
            </div>
            <div class="yinhao-img">
                <img src="@/assets/imgs/3.png" alt="">
            </div>
            <div class="detail">
                <h2>Shopvill合伙人六大特权</h2>
                <div class="detail-content">
                    <div class="content">
                        <h3>专享批发价</h3>
                        <div class="xian"></div>
                        <p>买一件也是批发价，全部商品，平均7折到手！</p>
                    </div>
                    <div class="content">
                        <h3>100%精品承诺</h3>
                        <div class="xian"></div>
                        <p>shopvill提供的商品，都是经过层层筛选，厂家直供的好货！</p>
                    </div>
                    <div class="content">
                        <h3>每天折上折</h3>
                        <div class="xian"></div>
                        <p>shopvill每天都会组织特价促销，每天都能省钱！</p>
                    </div>
                    
                    <div class="content">
                        <h3>0成本创业</h3>
                        <div class="xian"></div>
                        <p>0投入，0囤货，0风险！个人零成本创业，收入高于城市均值！</p>
                    </div>
                    <div class="content">
                        <h3>全程免费培训</h3>
                        <div class="xian"></div>
                        <p>为合伙人免费提供各种培训和指导，零经验背景成功创业！</p>
                    </div>
                    <div class="content">
                        <h3>7*24后端支持</h3>
                        <div class="xian"></div>
                        <p>shopvill的技术团队和供应链团队，7*24小时为合伙人提供支持，所有问题瞬间解决！</p>
                    </div>
                    
                </div>
            </div>
            <div class="icon">
                <img src="@/assets/imgs/4.png" alt="">
            </div>
            <div class="bian">
                <img src="@/assets/imgs/shopvill.png" alt="">
            </div>
        </div>
        <!-- 合伙人招募 -->
        <div class="contionter partner">
            <div class="partner-top">
                <!-- <div class="content">
                    
                </div> -->
                <div class="partner-form">
                    <h2>{{parentId == ''? '批发商注册页面':'代理商注册'}}</h2>
                    <div class="grid-content bg-purple-light">
                        <el-form
                            ref="dataForm"
                            :rules="rules"
                            :model="temp"
                            label-position="left"
                            label-width="100px"
                        >
                            <el-form-item label="选择语言" prop="language">
                            <el-select v-model="temp.language" placeholder="Выберите">
                                <el-option
                                v-for="item in userLanguage"
                                :key="item.value"
                                :label="item.label"
                                :value="item.value"
                                ></el-option>
                            </el-select>
                            </el-form-item>
                            <!-- <el-form-item label="邀请店名称" prop="sid">
                            <el-input v-model="temp.sid"  />
                            </el-form-item> -->
                            <div>
                            <el-form-item label="商店名称" prop="storename">
                                <el-input type="text" v-model="temp.storename" />
                            </el-form-item>
                            </div>
                            <div>
                            <el-form-item label="用户名称" prop="username">
                                <el-input v-model="temp.username" />
                            </el-form-item>
                            </div>

                            <el-form-item label="电话" prop="tel">
                            <el-input v-model="temp.tel" type="text" />
                            </el-form-item>
                            <el-form-item label="密码" prop="password">
                            <el-input v-model="temp.password" type="password" />
                            </el-form-item>
                            <el-form-item label="确认密码" prop="checkPass">
                            <el-input v-model="temp.checkPass" type="password" />
                            </el-form-item>
                            <el-form-item label="昵称">
                            <el-input v-model="temp.nickname" />
                            </el-form-item>
                            <el-form-item label="备注">
                            <el-input v-model="temp.remark" />
                            </el-form-item>
                        </el-form>

                        <div slot="footer" class="dialog-footer">
                            <button @click="saveUserData(temp)">注册</button>
                            <!-- <el-button  >注册</el-button> -->
                        </div>
                    </div>
                    <!-- <div class="grid-content bg-purple-light">
                        <el-form
                            ref="dataForm"
                            :rules="rules"
                            :model="temp"
                            label-position="left"
                            label-width="100px"
                        >
                            <el-form-item label="Выбор языка" prop="language">
                            <el-select v-model="temp.language" placeholder="Выберите">
                                <el-option
                                v-for="item in userLanguage"
                                :key="item.value"
                                :label="item.label"
                                :value="item.value"
                                ></el-option>
                            </el-select>
                            </el-form-item>
                            <el-form-item label="Название пригласившего магазина" prop="sid">
                            <el-input v-model="temp.sid"  />
                            </el-form-item>
                            <div>
                            <el-form-item label="Название магазина" prop="storename">
                                <el-input type="text" v-model="temp.storename" />
                            </el-form-item>
                            </div>
                            <div>
                            <el-form-item label="имя пользователя" prop="username">
                                <el-input v-model="temp.username" />
                            </el-form-item>
                            </div>

                            <el-form-item label="Телефон" prop="tel">
                            <el-input v-model="temp.tel" type="number" />
                            </el-form-item>
                            <el-form-item label="пароль" prop="password">
                            <el-input v-model="temp.password" type="password" />
                            </el-form-item>
                            <el-form-item label="Подтвердите Пароль" prop="checkPass">
                            <el-input v-model="temp.checkPass" type="password" />
                            </el-form-item>
                            <el-form-item label="прозвище">
                            <el-input v-model="temp.nickname" />
                            </el-form-item>
                            <el-form-item label="замечания">
                            <el-input v-model="temp.remark" />
                            </el-form-item>
                        </el-form>

                        <div slot="footer" class="dialog-footer">
                            <el-button type="primary" @click="saveUserData(temp)">зарегистрированный</el-button>
                        </div>
                    </div> -->


                    <!-- <form action="">
                        <div class="item">
                            <input type="text" placeholder="姓名">
                        </div>
                        <div class="item">
                            <input type="text" placeholder="电话">
                        </div>
                        <div class="item">
                            <input type="text" placeholder="邮箱">
                        </div>
                        <div class="item">
                            <textarea name="" id="" cols="20" rows="10" placeholder="内容"></textarea>
                        </div>
                        <div class="item">
                            <button>提交</button>
                        </div>
                        
                    </form> -->
                </div>
                <div class="welcome">
                    <img src="@/assets/imgs/06.png" alt="">
                </div>
            </div>
            <div class="text">
                <div>
                    <p class="shop">Shopvill Prime</p>
                    <p class="de">--好的生活，其实没那么贵！</p>
                </div>
            </div>
        </div>
        <!-- 精品店铺 -->
        <div class="footer dianpu" id="dianpu">
            <h2><a href="http://vip.shopvill.com/indexpc.html?sid=vip#/home" target="_blank">小baby孕婴店</a></h2>
            <div class="introduce">
                <p>
                    小baby孕婴店，是shopvill的优质加盟店铺。XX店铺自建立伊始，始终高度重视顾客的购买体验。在商品选择方面，XX店铺进行了大量的对比和严格的筛选，最终确定了稳定优质的货源；在物流运输方面，xx店铺依托shopvill现有的物流体系，形成了对俄罗斯不同地区、不同货物、不同运输方式的解决方案。同时XX店铺也拥有专业的售前和售后服务团队，对每一位顾客的每一次购物认真负责，赢得了客户的广泛好评。
                </p>
            </div>
            <p class="come">
                <a href="http://vip.shopvill.com/indexpc.html?sid=vip#/home" target="_blank">进入店铺 </a>
            </p>
            
        </div>
        <div class="footer dianpu">
            <h2><a href="http://furniture.shopvill.com/indexpc.html?sid=furniture#/home"  target="_blank">FNC</a></h2>
            <div class="introduce">
               <p>
                   FNC店，是一家主营各类室内和户外家具的店铺。作为shopvill的优质加盟店铺。他们一直在为客户提供着优质的商品和全面的服务。FNC与众多家具厂家有良好的长期合作关系，既能保证商品质量，又能消除所有的中间成本，尽最大可能为消费者提供家全面、专业、周到的服务。物流运输方面，FNC凭借shopvill完整的物流体系，实现了运输、仓储、配送的全面服务。
               </p>
            </div>
            <p class="come">
                <a href="http://furniture.shopvill.com/indexpc.html?sid=furniture#/home"  target="_blank">进入店铺 </a>
            </p>
            
        </div>
        <!-- 页面尾部 -->
        <div class="footer" id="footer">
            <h2>合作伙伴</h2>
            <div class="friend">
                
                <a href="https://www.alibaba.com/" target="_blank">
                    <img src="@/assets/imgs/9.1.png" alt="">
                </a>
                <a href="https://www.aliexpress.com/" target="_blank">
                    <img src="@/assets/imgs/10.1.png" alt="">
                </a>
                <a href="https://qiwi.com/" target="_blank">
                    <img src="@/assets/imgs/11.1.png" alt="">
                </a>
                <a href="https://www.visa.com.cn/" target="_blank">
                    <img src="@/assets/imgs/12.1.png" alt="">
                </a>
                <a href="https://www.mastercard.com" target="_blank">
                    <img src="@/assets/imgs/13.1.png" alt="">
                </a>
                <a href="https://www.whatsapp.com" target="_blank">
                    <img src="@/assets/imgs/4.1.png" alt="">
                </a>
                <a href="https://www.instagram.com" target="_blank">
                    <img src="@/assets/imgs/5.1.png" alt="">
                </a>
                <a href="https://www.vk.com" target="_blank">
                    <img src="@/assets/imgs/6.1.png" alt="">
                </a>
                <a href="https://www.facebook.com" target="_blank">
                    <img src="@/assets/imgs/7.1.png" alt="">
                </a>
                <a href="https://www.yandex.ru" target="_blank">
                    <img src="@/assets/imgs/8.1.png" alt="">
                </a>
                
                
            </div>
        </div>
        <div class="content">
            <div class="reg-sign">
                <el-row :gutter="10">
                <el-col :xs="6" :sm="6" :md="6" :lg="6" :xl="6">
                    <div class="grid-content bg-purple"></div>
                </el-col>
                <el-col :xs="24" :sm="24" :md="12" :lg="12" :xl="12">
                    <el-dialog :visible.sync="dialogVisible" :before-close="handleClose">
                    <h3 style="text-align:center">注册成功</h3>
                    <el-form :model="formLabelAlign">
                        <el-form-item label="商店名称">
                        <el-input v-model="formLabelAlign.store"></el-input>
                        </el-form-item>
                        <el-form-item label="用户名 (账户)">
                        <el-input v-model="formLabelAlign.name"></el-input>
                        </el-form-item>
                        <el-form-item label="密码">
                        <el-input v-model="formLabelAlign.pass"></el-input>
                        </el-form-item>
                    </el-form>
                    <h3
                        style="text-align:center;color:red"
                    >使用帐户密码进入商店。</h3>
                    </el-dialog>
                </el-col>
                </el-row>
            </div>
        </div>
    </div>
</template>

<script>
// import { save as saveuser } from '@/api/user'
import '@/assets/css/shopvill.css'
import '@/assets/css/shopVillindex.css'

export default {
  name: 'register',
  data() {
    var validatePass = (rule, value, callback) => {
      if (value === '') {
        callback(new Error('Пожалуйста введите пароль'))
      } else {
        if (this.temp.checkPass !== '') {
          this.$refs.dataForm.validateField('checkPass')
        }
        callback()
      }
    }
    var validatePass2 = (rule, value, callback) => {
      if (value === '') {
        callback(new Error('Пожалуйста, введите пароль еще раз'))
      } else if (value !== this.temp.password) {
        callback(new Error('Два пароля не совпадают!'))
      } else {
        callback()
      }
    }
    return {
      formLabelAlign: {
        store: '',
        name: '',
        pass: '',
      },
      dialogVisible: false,
      userLanguage: [
        {
          value: 'ru',
          label: 'ru',
        },
        {
          value: 'cn',
          label: 'cn',
        },
      ],
      parentId:"",
      temp: {
       
        parent: '',
        roles: ['b'],
        storename: '',
        remark: '',
        nickname: '',
        tel: '',
        username: '',
        language: '',
        password: '',
        checkPass: '',
      },
      rules: {

        sid:[{
             required: true,
            message: '请输入您的邀请',
            trigger: 'blur',
        }],
        password: [
          { validator: validatePass, trigger: 'blur', min: 5, max: 10 },
        ],
        checkPass: [
          { validator: validatePass2, trigger: 'blur', min: 5, max: 10 },
        ],
        language: [
          {
            required: true,
            message: '请选择语言',
            trigger: 'change',
          },
        ],

        storename: [
          {
            required: true,
            message: '请输入商店名称',
            trigger: 'blur',
          },
          {
            min: 3,
            message: '长度不能小于3个字符。',
            trigger: 'change',
          },
        ],
        username: [
          {
            required: true,
            message: '请输入用户名',
            trigger: 'blur',
          },
          {
            min: 3,
            message: '长度不能小于3个字符。',
            trigger: 'blur',
          },
        ],
        tel: [
          {
            required: true,
            trigger: 'blur',
            message: '请输入电话',
          },
          {
            min: 11,
            max: 11,
            message: '无效的数字格式',
            trigger: 'change',
          },
        ],
      },
    }
  },
  created(){
      console.log(this.$route.query);
      if(this.$route.query.parentId) {
          this.parentId = this.$route.query.parentId
      }
  },
  mounted() {
    
  },
  methods: {
    handleClose(done) {
      this.dialogVisible = false
    },
    // geturl() {
    //   var url = window.location.href
    //   var index = url.lastIndexOf('/')
    //   var str = url.substring(index + 1, url.length)
    //   // console.log(str)
    //   this.temp.parent = str
    //   this.temp.sid = str
    // },
    saveUserData(temp) {
      if (this.temp.nickname == '') {
        this.temp.nickname = this.temp.username
      }
      this.temp.parent=temp.sid
      this.$refs['dataForm'].validate((valid) => {
        if (valid) {
          temp.invite = ''
          if(this.parentId == '') {
              temp.parent = '海方弘景'
              temp.roles = ['B']
          }else {
              temp.parent = this.parentId
          }
          delete temp.checkPass
        console.log(temp);
        console.log(this.parentId);

          
          this.$request.save(temp).then((res) => {
            if (res.code == 0) {
              this.$message({
                message: 'Вы успешно зарегистрировались',
                type: 'success',
              })
              this.dialogVisible = true
              this.formLabelAlign.store = res.data.storename
              this.formLabelAlign.name = res.data.username
              this.formLabelAlign.pass = res.data.password
              this.temp = {
                
                parent: '',
                roles: ['b'],
                storename: '',
                remark: '',
                nickname: '',
                tel: '',
                username: '',
                language: '',
                password: '',
                checkPass: '',
              }
            } else if (res.code == 1) {
              this.$message({
                showClose: true,
                message: res.message,
                type: 'error',
              })
            }
          })
        }
      })
    },
  },
}
</script>

<style lang="scss" scoped>
.el-button {
  width: 100%;
}
.el-form-item--medium .el-form-item__content {
  line-height: 50px;
}
.el-form-item {
    margin-bottom: 20px;
}
.friend{
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    height: auto;
    padding: 20px 30px;
    background: #fff;
}

.friend a{
    width: 20%;
    height: 96px;
    background: red;
     
}
.partner {
    height: auto;
    margin-bottom: 30px;
}
.dianpu{
    padding-bottom:50px ;
    background: #fff;
}
.dianpu p{
    text-indent:2em;
    font-size: 20px;
    line-height: 30px;
    font-family: PingFangSC-Medium, PingFang SC;
}
.dianpu .come{
    text-align: right;
    box-sizing: border-box;
    padding-right: 20%;
    margin-top: 10px;
}
.dianpu .come a{
    color: rgb(255, 115, 39);
}

</style>