<template>
    <div class="wrapper">
        <div class="header1">
            <div class="logo">
                <h2><a href="#index"></a></h2>
            </div>
            <div class="menu menu1">
                <a href="#index">Главная</a>
                <a href="#about">О Нас</a>
                <a href="#tequan">Привилегия</a>
                <a href="#opportunities">Вербование компаньона</a>
                <a href="#footer">Партнеры</a>
            </div>
            
        </div>
        <!-- 首页部分 -->
        <div class="contionter" id="index">
            <div class="banner">
                <div class="mengceng">
                    
                    <div class="center">
                        <div class="title-box">
                            <p class="shopvill">shopVill</p>
                            <p class="title">Лидер в новой розничной сообществе</p>
                            <p class="text-box">Shopvill Prime --Хорошая жизнь, на самом деле не так дорого!
                            </p>
                        </div>
                        <div class="text"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 关于我们部分 -->
        <div class="contionter about-height" id="about">
            <div class="about">
                <div class="main">
                    <div class="img">
                        <img src="@/assets/imgs/5.png" alt="">
                    </div>
                    <div class="detail">
                        <div class="about-title">
                            <h2>About +</h2>
                            <p>О Нас</p>
                        </div>
                        <div class="about-detail">
                            <span>Что такое Shopvill?</span>
                            <div class="henggang"></div>
                            <div class="text">

                               <p> Shopvill основан на сообществе, это частные лица из сообщества или владельцы розничных магазинов становятся партнерами，продвигают свой собственный независимый магазин в сообществе, как онлайн, так и оффлайн，члены общества могут проводить оформление заказа，завершить доставки в автономном режиме и пользователь заберет самовывозом.</p>
                                <p>Shopvill-является лидером в новой розничной торговле. Мы надеемся, что, устраняя неудобства и высокие цены, связанные с покупками обычных людей, мы также можем помочь группе ориентированных на обслуживание "партнеров" встать на путь процветания и помочь большему количеству людей начать свой собственный бизнес. </p>
                                <p>Shopvill объединяет глобальную цепочку поставок, предоставляя владельцам магазинов доступ к десяткам тысячам брендов и фабрик премиум-класса, тщательно отобранных для обеспечения качества и низких цен.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="quan">
                <img src="@/assets/imgs/8.png" alt="">
            </div>
        </div>
        <!-- 机会部分 -->
        <div class="contionter opportunities" id="opportunities">
            <div class="opportunities">
                <div class="main">
                    <div class="main-left">
                        <div class="title">
                            <p class="title-z">Наши возможности</p>
                            <p class="title-e">Our opportunities</p>
                        </div>
                        <div class="photo">
                            <div class="photo-one"><img src="@/assets/imgs/11.png" alt=""></div>
                            <div class="text">
                                <h3>
                                    В офлайн розничных магазинах мало товаров, низкое качество и высокие цены.
                                </h3>
                                <p> 
                                    В настоящее время ассортимент товаров в офлайновых розничных каналах ограничен и имеет низкое качество, в то же время из-за слишком большого количества звеньев в обращении и высоких цен на товары не могут удовлетворить потребности российских потребителей.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="main-right">
                        <div class="photo-top">
                            <img src="@/assets/imgs/9.png" alt="">
                            <div class="text">
                                <h3>Объем рынка в триллионах рублей.</h3>
                                <p>
                                    В среднем россияне тратят около 35 000 рублей в год на приобретение одежды, обуви, мебели, предметов быта, население страны составляет 146 миллионов человек, а рыночная мощность страны приближается к 5 триллионам рублей в год.
                                </p>
                                
                            </div>
                        </div>
                        <div class="photo-bottom">
                            <img src="@/assets/imgs/10.png" alt="">
                            <div class="text">
                                <h3>
                                    Традиционные магазины электроники, стоимость логистики слишком высока.
                                </h3>
                                <p>
                                    Традиционные сайты электронной коммерции богаты относительно  в ассортименте, но из-за нехватки площадь России, часто затраты на логистику составляют более 70% от цены например aliexpress.ru.
                                </p>
                                
                            </div>
                        </div>
                    </div>
                    <!-- <div class="mengceng"></div> -->
                </div>
                <div class="yinhao">
                    <img src="@/assets/imgs/3.png" alt="">
                </div>
                <div class="mengceng"></div>
            </div>
        </div>
        <!-- 零售模式 -->
        <div class="contionter lingshou-height">
            <div class="lingshou ">
                <div class="main">
                    <div class="title-t">Почему у нас есть товары низкой цены?</div>
                    <div class="content">
                        <p class="title">Строгий выбор фабрики</p>
                        <p class="detail" style="margin-bottom: 50px;"> Китай имеет много фабрик оэм бренда мира известных, продукция товаров такие же как международные бренды, только с их собственными товарными знаками, цена как раз 10% -20% из таких же качественных международных брендов!Все поставщики Shopvill поставляются с фабрик, которые обеспечивают литейное производство для крупных международных брендов,а качество товаров также соответствует мировым именам.</p>
                        <p class="title">Оптимизация циркуляции</p>
                        <p class="detail">Товары приобретенные через традиционные офлайн, онлайн-каналы розничной торговли в России, как правило, проходят через китайских экспортеров, оптовиков московского уровня, государственных оптовиков второго уровня, местных ритейлеров и т. д., Чтобы добраться до потребителя, каждый из которых должен добавить свою собственную прибыль, поэтому цена продажи очень высока. Новая модель розничной торговли в нашем сообществе shopvill-это сокращение всех промежуточных звеньев, прямая стыковка китайских заводов с российскими потребителями без каких-либо затрат посредников, товаров такого же качества, наши цены могут быть самыми низкими по всей ！</p>
                    </div>
                    <div class="img">
                        <img src="@/assets/imgs/youyinhao.png" alt="">
                    </div>
                </div>
                <div class="main-bottom">
                    <div class="skip skip-top">
                        <h2>Традиционная розничная модель</h2>
                        <div class="skip-box">
                            <div class="skip-t">
                                <span class="text">Малые и средние фабрики по всему Китаю</span>
                                <p><span class="yuan">1</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">Китайские экспортеры</span>
                                <p><span class="yuan">2</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">Первоклассный оптовик в России</span>
                                <p><span class="yuan">3</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">Российский вторичный оптовик</span>
                                <p><span class="yuan">4</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">Российские ритейлеры</span>
                                <p><span class="yuan">5</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">Российские потребители</span>
                                <p><span class="yuan">5</span></p>
                            </div>
                        </div>
                        <div class="zhong-xian"></div>
                    </div>
                    <div class="skip skip-top orgain">
                        <h2>Shopvill новая розничная модель</h2>
                        <div class="skip-box">
                            <div class="skip-t">
                                <span class="text">Китайская международная OEM фабрика</span>
                                <p><span class="yuan">1</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">Shopvill</span>
                                <p><span class="yuan">2</span></p>
                            </div>
                            <div class="skip-t">
                                <span class="text">Российские потребители</span>
                                <p><span class="yuan">3</span></p>
                            </div>
                            
                        </div>
                        <div class="zhong-xian"></div>
                    </div>
                    
                </div>
                <div class="yuan1">
                    <img src="@/assets/imgs/12.png" alt="">
                </div>
            </div>
        </div>
        <!-- 特权部分 -->
        <div class="contionter tequan" id="tequan">
            <div class="img">
                <img src="@/assets/imgs/2.png" alt="">
            </div>
            <div class="yinhao-img">
                <img src="@/assets/imgs/3.png" alt="">
            </div>
            <div class="detail">
                <h2>Шесть привилегий для партнеров Shopvill</h2>
                <div class="detail-content">
                    <div class="content">
                        <h3>Эксклюзивная оптовая цена</h3>
                        <div class="xian"></div>
                        <p>Купить одну штуку тоже по оптовой цене, на все товары в среднем 30% скидка!</p>
                    </div>
                    <div class="content">
                        <h3>100% гарантия на высоком качественном товаре </h3>
                        <div class="xian"></div>
                        <p>Все товары, предоставляемые Shopvill, проверены и поставляются непосредственно производителем!</p>
                    </div>
                    <div class="content">
                        <h3>Вкладывать каждый день</h3>
                        <div class="xian"></div>
                        <p>Shopvill организует специальные акции каждый день, чтобы сэкономить деньги каждый день!</p>
                    </div>
                    
                    <div class="content">
                        <h3>0 затрат на предпринимательство</h3>
                        <div class="xian"></div>
                        <p>0 инвестиций, 0 акций, 0 рисков! Физические лица начинают бизнес с нулевыми затратами, а их доход выше, чем средняя зарплата!</p>
                    </div>
                    <div class="content">
                        <h3>Полное бесплатное обучение</h3>
                        <div class="xian"></div>
                        <p>Бесплатное обучение и наставничество для партнеров с нулевым опытом для успешного запуска!</p>
                    </div>
                    <div class="content">
                        <h3>24/7 серверная поддержка</h3>
                        <div class="xian"></div>
                        <p>Техническая команда Shopvill и команда цепочки поставок обеспечивают поддержку партнеров 24/7, и все проблемы могут быть решены мгновенно!</p>
                    </div>
                    
                </div>
            </div>
            <div class="icon">
                <img src="@/assets/imgs/4.png" alt="">
            </div>
            <div class="bian">
                <img src="@/assets/imgs/shopvill.png" alt="">
            </div>
        </div>
        <!-- 合伙人招募 -->
        <div class="contionter partner">
            <div class="partner-top">
                <!-- <div class="content">
                    
                </div> -->
                <div class="partner-form">
                    <h2>{{parentId == ''? 'Регистрация оптовика':'Регистрация агента'}}</h2>
                    <!-- <div class="grid-content bg-purple-light">
                        <el-form
                            ref="dataForm"
                            :rules="rules"
                            :model="temp"
                            label-position="left"
                            label-width="100px"
                        >
                            <el-form-item label="选择语言" prop="language">
                            <el-select v-model="temp.language" placeholder="Выберите">
                                <el-option
                                v-for="item in userLanguage"
                                :key="item.value"
                                :label="item.label"
                                :value="item.value"
                                ></el-option>
                            </el-select>
                            </el-form-item>
                            <el-form-item label="邀请店名称" prop="sid">
                            <el-input v-model="temp.sid"  />
                            </el-form-item>
                            <div>
                            <el-form-item label="商店名称" prop="storename">
                                <el-input type="text" v-model="temp.storename" />
                            </el-form-item>
                            </div>
                            <div>
                            <el-form-item label="用户名称" prop="username">
                                <el-input v-model="temp.username" />
                            </el-form-item>
                            </div>

                            <el-form-item label="电话" prop="tel">
                            <el-input v-model="temp.tel" type="number" />
                            </el-form-item>
                            <el-form-item label="密码" prop="password">
                            <el-input v-model="temp.password" type="password" />
                            </el-form-item>
                            <el-form-item label="确认密码" prop="checkPass">
                            <el-input v-model="temp.checkPass" type="password" />
                            </el-form-item>
                            <el-form-item label="昵称">
                            <el-input v-model="temp.nickname" />
                            </el-form-item>
                            <el-form-item label="备注">
                            <el-input v-model="temp.remark" />
                            </el-form-item>
                        </el-form>

                        <div slot="footer" class="dialog-footer">
                            <button @click="saveUserData(temp)">注册</button>
                            
                        </div>
                    </div> -->
                    <div class="grid-content bg-purple-light">
                        <el-form
                            ref="dataForm"
                            :rules="rules"
                            :model="temp"
                            label-position="left"
                            label-width="180px"
                        >
                            <el-form-item label="Выбор языка" prop="language">
                            <el-select v-model="temp.language" placeholder="Выберите">
                                <el-option
                                v-for="item in userLanguage"
                                :key="item.value"
                                :label="item.label"
                                :value="item.value"
                                ></el-option>
                            </el-select>
                            </el-form-item>
                            <!-- <el-form-item label="Название пригласившего магазина" prop="sid">
                            <el-input v-model="temp.sid"  />
                            </el-form-item> -->
                            <div>
                            <el-form-item label="Название магазина" prop="storename">
                                <el-input type="text" v-model="temp.storename" />
                            </el-form-item>
                            </div>
                            <div>
                            <el-form-item label="Имя пользователя" prop="username">
                                <el-input v-model="temp.username" />
                            </el-form-item>
                            </div>

                            <el-form-item label="Телефон" prop="tel">
                            <el-input v-model="temp.tel" type="text" />
                            </el-form-item>
                            <el-form-item label="Пароль" prop="password">
                            <el-input v-model="temp.password" type="password" />
                            </el-form-item>
                            <el-form-item label="Подтвердите Пароль" prop="checkPass">
                            <el-input v-model="temp.checkPass" type="password" />
                            </el-form-item>
                            <el-form-item label="Провище">
                            <el-input v-model="temp.nickname" />
                            </el-form-item>
                            <el-form-item label="Замечание">
                            <el-input v-model="temp.remark" />
                            </el-form-item>
                        </el-form>

                        <div slot="footer" class="dialog-footer">
                             <button @click="saveUserData(temp)">Зарегистрировать</button>
                           
                        </div>
                    </div>


                    <!-- <form action="">
                        <div class="item">
                            <input type="text" placeholder="姓名">
                        </div>
                        <div class="item">
                            <input type="text" placeholder="电话">
                        </div>
                        <div class="item">
                            <input type="text" placeholder="邮箱">
                        </div>
                        <div class="item">
                            <textarea name="" id="" cols="20" rows="10" placeholder="内容"></textarea>
                        </div>
                        <div class="item">
                            <button>提交</button>
                        </div>
                        
                    </form> -->
                </div>
                <div class="welcome">
                    <img src="@/assets/imgs/061.png" alt="">
                </div>
            </div>
            <div class="text">
                <div>
                    <p class="shop">Shopvill Prime</p>
                    <p class="de">--Хорошая жизнь, на самом деле не так дорого!</p>
                </div>
            </div>
        </div>
        <!-- 页面尾部 -->
        <div class="footer" id="footer">
            <h2>Наши партнеры</h2>
            <div class="friend">
                <img src="@/assets/imgs/07.png" alt="">
            </div>
        </div>
        <div class="content">
            <div class="reg-sign">
                <el-row :gutter="10">
                <el-col :xs="6" :sm="6" :md="6" :lg="6" :xl="6">
                    <div class="grid-content bg-purple"></div>
                </el-col>
                <el-col :xs="24" :sm="24" :md="12" :lg="12" :xl="12">
                    <el-dialog :visible.sync="dialogVisible" :before-close="handleClose">
                    <h3 style="text-align:center">Поздравляем, регистрация прошла успешно</h3>
                    <el-form :model="formLabelAlign">
                        <el-form-item label="Название магазина">
                        <el-input v-model="formLabelAlign.store"></el-input>
                        </el-form-item>
                        <el-form-item label="Имя пользователя (аккаунт)">
                        <el-input v-model="formLabelAlign.name"></el-input>
                        </el-form-item>
                        <el-form-item label="пароль">
                        <el-input v-model="formLabelAlign.pass"></el-input>
                        </el-form-item>
                    </el-form>
                    <h3
                        style="text-align:center;color:red"
                    >Используйте пароль учетной записи для входа в магазин</h3>
                    </el-dialog>
                </el-col>
                </el-row>
            </div>
        </div>
    </div>
</template>

<script>
// import { save as saveuser } from '@/api/user'
import '@/assets/css/shopvill.css'
import '@/assets/css/shopVillindex.css'

export default {
  name: 'register',
  data() {
    var validatePass = (rule, value, callback) => {
      if (value === '') {
        callback(new Error('Пожалуйста введите пароль'))
      } else {
        if (this.temp.checkPass !== '') {
          this.$refs.dataForm.validateField('checkPass')
        }
        callback()
      }
    }
    var validatePass2 = (rule, value, callback) => {
      if (value === '') {
        callback(new Error('Пожалуйста, введите пароль еще раз'))
      } else if (value !== this.temp.password) {
        callback(new Error('Два пароля не совпадают!'))
      } else {
        callback()
      }
    }
    return {
      formLabelAlign: {
        store: '',
        name: '',
        pass: '',
      },
      dialogVisible: false,
      userLanguage: [
        {
          value: 'ru',
          label: 'ru',
        },
        {
          value: 'cn',
          label: 'cn',
        },
      ],
      parentId:"",
      temp: {
        // sid: '',
        parent: '',
        roles: ['b'],
        storename: '',
        remark: '',
        nickname: '',
        tel: '',
        username: '',
        language: '',
        password: '',
        checkPass: '',
      },
      rules: {
        sid:[{
             required: true,
            message: 'Пожалуйста, введите вашего приглашающего',
            trigger: 'blur',
        }],
        password: [
          { validator: validatePass, trigger: 'blur', min: 5, max: 10 },
        ],
        checkPass: [
          { validator: validatePass2, trigger: 'blur', min: 5, max: 10 },
        ],
        language: [
          {
            required: true,
            message: 'Пожалуйста, выберите язык',
            trigger: 'change',
          },
        ],

        storename: [
          {
            required: true,
            message: 'Пожалуйста, введите название магазина',
            trigger: 'blur',
          },
          {
            min: 3,
            message: 'Длина не может быть меньше 3 символов.',
            trigger: 'change',
          },
        ],
        username: [
          {
            required: true,
            message: 'пожалуйста, введите имя пользователя',
            trigger: 'blur',
          },
          {
            min: 3,
            message: 'Длина не может быть меньше 3 символов.',
            trigger: 'blur',
          },
        ],
        tel: [
          {
            required: true,
            trigger: 'blur',
            message: 'Пожалуйста, введите телефон',
          },
          {
            min: 11,
            max: 11,
            message: 'Неверный формат числа',
            trigger: 'change',
          },
        ],
      },
    }
  },
  created(){
      console.log(this.$route.query.parentId)
      if(this.$route.query.parentId) {
          this.parentId = this.$route.query.parentId
      }
  },
  mounted() {
    
  },
  methods: {
    handleClose(done) {
      this.dialogVisible = false
    },
    // geturl() {
    //   var url = window.location.href
    //   var index = url.lastIndexOf('/')
    //   var str = url.substring(index + 1, url.length)
    //   // console.log(str)
    //   this.temp.parent = str
    //   this.temp.sid = str
    // },
    saveUserData(temp) {
      if (this.temp.nickname == '') {
        this.temp.nickname = this.temp.username
      }
      this.temp.parent=temp.sid
      this.$refs['dataForm'].validate((valid) => {
        if (valid) {
          temp.invite = ''
          if(this.parentId == '') {
              temp.parent = '海方弘景'
              temp.roles = ['B']
          }else {
              temp.parent = this.parentId
          }
          delete temp.checkPass
            console.log(temp);
          console.log(this.parentId);

          
          this.$request.save(temp).then((res) => {
            if (res.code == 0) {
              this.$message({
                message: 'Вы успешно зарегистрировались',
                type: 'success',
              })
              this.dialogVisible = true
              this.formLabelAlign.store = res.data.storename
              this.formLabelAlign.name = res.data.username
              this.formLabelAlign.pass = res.data.password
              this.temp = {
                
                parent: '',
                roles: ['b'],
                storename: '',
                remark: '',
                nickname: '',
                tel: '',
                username: '',
                language: '',
                password: '',
                checkPass: '',
              }
            } else if (res.code == 1) {
              this.$message({
                showClose: true,
                message: res.message,
                type: 'error',
              })
            }
          })
        }
      })
    },
  },
}
</script>

<style lang="scss" scoped>
// @import "@/assets/css/shopvill.scss";
.el-button {
  width: 100%;
}
.el-form-item--medium .el-form-item__content {
  line-height: 50px;
}
.el-form-item {
    margin-bottom: 30px;
}
.opportunities .main .text{
    height: auto;
}
.lingshou .yuan1 {
    top: 431px;
}
.lingshou .main .content {
     height: auto; 
   
}
.skip-box .skip-t .text {
  
    height: 37px;
}
.partner .text div {
    width: 865px;
}
.partner .text div p {
    font-size: 38px;
}
.tequan {
    height: 1110px;
}
.tequan .bian {
    top: 342px;
}
.about .main .detail .about-detail span {
    // display: block;
    width: 100%;
   
}
.center .title-box .title {
    
    // letter-spacing: -22px;
}
/deep/ .el-form-item--medium .el-form-item__label {
    line-height: 36px;
    // letter-spacing: -6px;
}
.partner-form {
   
    padding: 34px 100px;
    padding-bottom: 0;
}

.header .menu1 a:nth-child(1){
    width: 15%;
}
.header .menu1 a:nth-child(2){
    width: 15%;
}
.header .menu1 a:nth-child(3){
        width: 20%;
}
.header .menu1 a:nth-child(4){
    width: 20%;
    line-height: 31px;
    font-size: 16px;
}
.header .menu1 a:nth-child(5){
    width: 18%;
}
.partner .partner-top .partner-form{
   
     font-family: PingFangSC-Medium, PingFang SC;
}

.header .menu1 a {
    line-height: 66px;
    
    /* flex: 1; */
    text-align: center;
    font-family: PingFangSC-Medium, PingFang SC;
}
</style>
